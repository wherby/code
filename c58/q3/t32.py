class Solution:
    def minSpaceWastedKResizing(self, nums, k ):
        dp = []
        for i in range(202):
            dp.append([-1]*202)
        n = len(nums)
        INF =1e20
        def dfs(i,k):
            if i >n-1:
                return 0
            if k == -1:
                return INF
            #print(i,k)
            if dp[i][k] !=-1:
                return dp[i][k]
            ans = INF
            print(i,n)
            maxNum = nums[i]
            totalSum =0
            for j in range(i,n):
                maxNum = max(maxNum, nums[j])
                totalSum += nums[j]
                wasted = maxNum *(j-i+1) -totalSum
                ans = min(ans,dfs(j+1,k-1) +wasted)
            dp[i][k] = ans
            return ans
        return dfs(0,k)                

nums = [428626,812086,354804,711876,626929,54910,827565,661533,678749,350906,69114,345706,99097,585067,711333,405342,297950,264237,758890,892932,688458,950370,631978,915701,157678,349556,85462,611047,695848,148299,961279,366814,325302,687924,732410,694300,410998,135216,623946,743267,983567,88835,324621,586073,394977,674752,830118,344433,852687,134002,702668,736972,869227,993116,774662,718710,956772,551964,97993,677407,703025,443974,533189,379405,19117,380212,323870,189020,997374,224598,358333,993703,803374,509893,201333,237548,144248,162472,80914,310161,885448,826404,106054,532352,808321,565991,875687,774525,926608,552109,39582,694084,353124,918965,803532,648053,137415,626259,395020,161746,170129,189631,871729,726502,808555,655088,848344,946504,173581,756216,458934,45815,430817,381996,709218,754541,249069,465777,640256,298769,788940,784898,821875,470736,245370,559952,250787,324501,847904,822472,491799,947886,875680,203441,385710,711257,993138,598129,462000,484107,806815,295460,815923,400423,527336,553082,438998,169931,856573,209399,840182,634036,145122,915409,262148,54715,672325,503936,916579,389245,581479,979678,107574,745958,886983,540971,892513,130735,298911,87950,800186,168100,286043,471146,949283,538290,154507,871416,458724,96169,992387,954734,232824,856376,473042,927602,366567,975671,27966,435051,55844,415713,526393,392128,247232,404925,85570,393125,235446,29557]
k = 99
print(Solution().minSpaceWastedKResizing(nums,k))