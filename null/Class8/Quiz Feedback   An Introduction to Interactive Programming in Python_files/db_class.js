function initRunQuery(selector,api_url){$(document).on("click",selector,function(){var $btn=$(this),input=$btn.prev("textarea.course-quiz-input").val(),$target_div=$btn.nextAll("div.course-quiz-feedback:first"),aux_data=$btn.nextAll("div.aux_data:first").text();$target_div.children("div.course-quiz-feedback-text").html("Processing..."),$target_div.show(),$.post(api_url,{aux_data:aux_data,student_ans:input},function(data){var result=jQuery.parseJSON(data);$target_div.children("div.course-quiz-feedback-text").html(result.feedback),$target_div.show()}).error(function(resp){if(500==resp.status)$target_div.children("div.course-quiz-feedback-text").html('<span style="color:red">System error. Please try again later.</span>'),$target_div.show();else if(429==resp.status)$target_div.children("div.course-quiz-feedback-text").html('<span style="color:red">'+resp.responseText+"</span>"),$target_div.show()})}),$(document).on("click",".clear-feedback",function(event){$(this).parent().hide()})}