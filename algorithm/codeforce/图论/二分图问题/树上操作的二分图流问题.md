

# 问题
https://atcoder.jp/contests/abc437/tasks/abc437_g
https://atcoder.jp/contests/abc437/editorial/14894

树上的节点因为不是循环的，所以可以变成二分图，在图上所有有效的操作都可以看做二分图的流量


```python
from atcoder.maxflow import MFGraph


def solve():
    n = int(input())
    c = [0 if i == "R" else 1 if i == "G" else 2 for i in input()]
    edge_id = {}
    G = [[] for i in range(n)]
    for i in range(n - 1):
        a, b = map(lambda x: int(x) - 1, input().split())
        edge_id[(a, b)] = edge_id[(b, a)] = i
        G[a].append(b)
        G[b].append(a)

    bipartite = [-1] * n
    bipartite[0] = 0
    mf = MFGraph(3 * n + 2)
    S = 3 * n
    T = S + 1

    stc = [0]
    while stc:
        v = stc.pop()
        cnt = [0] * 3
        tmp = c[v]
        for i in range(len(G[v])):
            cnt[tmp] += 1
            tmp = (tmp + 1) % 3

        for i in range(3):
            if bipartite[v] == 0:
                mf.add_edge(S, 3 * v + i, cnt[i])
            else:
                mf.add_edge(3 * v + i, T, cnt[i])

        if bipartite[v] == 0:
            for u in G[v]:
                for i in range(3):
                    for j in range(3):
                        if i != j:
                            mf.add_edge(3 * v + i, 3 * u + j, 1)

        for u in G[v]:
            if bipartite[u] == -1:
                bipartite[u] = bipartite[v] ^ 1
                stc.append(u)

    f = mf.flow(S, T)
    if f != n - 1:
        print("No")
        return

    op = []
    for e in mf.edges():
        if e.flow == 1 and 0 <= e.src < 3 * n and 0 <= e.dst < 3 * n:
            u, x = e.src // 3, e.src % 3
            v, y = e.dst // 3, e.dst % 3
            op.append((u, x, v, y))

    ans = []
    while op:
        for u, x, v, y in op:
            if c[u] == x and c[v] == y:
                op.remove((u, x, v, y))
                ans.append(edge_id[(u, v)])
                c[u] = (c[u] + 1) % 3
                c[v] = (c[v] + 1) % 3
                break

    print("Yes")
    print(*[i + 1 for i in ans])


for _ in range(int(input())):
    solve()

```